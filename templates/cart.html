<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="static/styles.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

</head>
<body>

<header class="p-3 text-bg-dark">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
        <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-flower2" viewBox="0 0 16 16" color="#C4CF9A">
  <path d="M8 16a4 4 0 0 0 4-4 4 4 0 0 0 0-8 4 4 0 0 0-8 0 4 4 0 1 0 0 8 4 4 0 0 0 4 4zm3-12c0 .073-.01.155-.03.247-.544.241-1.091.638-1.598 1.084A2.987 2.987 0 0 0 8 5c-.494 0-.96.12-1.372.331-.507-.446-1.054-.843-1.597-1.084A1.117 1.117 0 0 1 5 4a3 3 0 0 1 6 0zm-.812 6.052A2.99 2.99 0 0 0 11 8a2.99 2.99 0 0 0-.812-2.052c.215-.18.432-.346.647-.487C11.34 5.131 11.732 5 12 5a3 3 0 1 1 0 6c-.268 0-.66-.13-1.165-.461a6.833 6.833 0 0 1-.647-.487zm-3.56.617a3.001 3.001 0 0 0 2.744 0c.507.446 1.054.842 1.598 1.084.02.091.03.174.03.247a3 3 0 1 1-6 0c0-.073.01-.155.03-.247.544-.242 1.091-.638 1.598-1.084zm-.816-4.721A2.99 2.99 0 0 0 5 8c0 .794.308 1.516.812 2.052a6.83 6.83 0 0 1-.647.487C4.66 10.869 4.268 11 4 11a3 3 0 0 1 0-6c.268 0 .66.13 1.165.461.215.141.432.306.647.487zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
</svg>
        </a>

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li><a href="#" style="color:#C4CF9A" class="nav-link px-2 text">Avocado</a></li>
          <li><a href="{{url_for('home')}}" class="nav-link px-2 text-secondary">Home</a></li>
          <li><a href="#" class="nav-link px-2 text-white">About</a></li>
        </ul>

        <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
          <input type="search" class="form-control form-control-dark text-bg-dark" placeholder="Search..." aria-label="Search">
        </form>

        <div class="text-end">
          <a href="{{url_for('login')}}"> <button type="button" class="btn btn-outline-light me-2">Login</button></a>
          <a href="{{url_for('register')}}"><button type="button"  class="btn btn-warning">Sign-up</button></a>
            <a href="#"> <button type="button" class="btn btn-outline-light me-2">My orders</button></a>

           <a href="{{url_for('cart')}}" type="button" style="padding-bottom:0px;" class="btn btn-outline-light me-2"><p style="margin:0px; margin-bottom:5px;">Cart <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
  <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
</svg> +{{count}}</p></a>
            <a href="#"type="button" class=" me-2">{{current_user.name}}</a>

        </div>
      </div>
    </div>
  </header>




<div style="margin-top:40px;" class="container">
    <div class="row">
        <div style="margin:auto;margin-top:0" class="col-xs-12 col-sm-6 col-md-4 col-lg-4 cart">
            {% for i in items %}
            {% if i.item_id == id %}
            <div class="cart_items">
                <img style="width:auto;height:20vh;" src="{{i.img_url}}">
                <div style="display:inline;margin-left:5vh;margin-top:1vh;">
                    <p>{{i.item_name}}</p>
                    <p>{{i.item_price}}</p>
                    <a href="{{url_for('remove', id=i.id)}}"><p>Remove item</p></a>
                </div>

            </div>
            {% endif %}
            {% else %}
            <h3>Cart empty</h3>
            {% if success %}
<h4>Payment successful</h4>
{% endif %}
            {% endfor %}

        </div>
        <div style="margin:auto;margin-top:0;" class="col-xs-12 col-sm-6 col-md-3 col-lg-3  address">
            <p>Choose address</p>
            <a href="{{url_for('addresses')}}"><p>Add address</p></a>

            {% if enter %}
            <form action="/get_address" method="POST">
                <input type="text" name="address">
                <input type="submit">
            </form>
            {% endif %}

            {% if current_user.address %}
            <p>{{current_user.address}}</p>
            {% endif %}

        </div>
        <div style="margin:auto;margin-top:0;" class="col-xs-12 col-sm-6 col-md-4 col-lg-4 checkout">
            {% for i in items %}
            {% if i.item_id == id %}

                <div style="display:inline;margin-left:5vh;margin-top:2vh;">
                    <div style="display:flex; margin:0px;">
                    <p>{{i.item_name}}:</p>
                        <div style="display:inline;">
                    <p align="center" style="position:absolute; right:20vh;">{{i.item_price}}</p>
                            </div>
                        </div>
                </div>
            {% endif %}

            {% endfor %}
            <br>
            <div style="display:flex;">
                <p>Delivery</p>
            <p style="position:absolute; right:20vh;">$5</p>
            </div>
            <br>
            <div style="display:flex;">
                <p>Total: </p>
            <p style="position:absolute; right:20vh;">${{price}}</p>

            </div>
            <form action="/checkout" method="POST">
        <button style="position:absolute; right:20vh;" type="submit">Checkout</button>
      </form>
        </div>
    </div>


</div>


</body>
</html>